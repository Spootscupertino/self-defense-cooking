<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Self Defense Cooking - Dojo Viewer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rock+Salt&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Nutrition Widget Button -->
    <button id="openWidgetBtn">
        <span>Nutrition Info</span>
    </button>

    <!-- Nutrition Widget Modal -->
    <div id="nutritionModal" style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
        z-index: 99998;
    ">
        <div style="
            background: white;
            width: 90%;
            max-width: 600px;
            height: 80vh;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        ">
            <button id="closeWidgetBtn" style="
                position: absolute;
                top: 10px;
                right: 10px;
                padding: 6px 10px;
                background: black;
                color: white;
                font-weight: bold;
                border: none;
                border-radius: 6px;
                cursor: pointer;
            ">Close</button>

            <iframe
                src="apps/nutrition-widget/index.html"
                width="100%"
                height="100%"
                style="border: none;"
            ></iframe>
        </div>
    </div>

    <script>
        const nutritionModal = document.getElementById("nutritionModal");
        const openWidgetBtn = document.getElementById("openWidgetBtn");
        const closeWidgetBtn = document.getElementById("closeWidgetBtn");

        openWidgetBtn.addEventListener("click", () => {
            nutritionModal.style.display = "flex";
        });

        closeWidgetBtn.addEventListener("click", () => {
            nutritionModal.style.display = "none";
        });

        nutritionModal.addEventListener("click", (event) => {
            if (event.target === nutritionModal) {
                nutritionModal.style.display = "none";
            }
        });
    </script>

    <canvas id="dojo-canvas" aria-label="Interactive dojo skybox"></canvas>
    <script type="module" src="script.js?v=20251122k"></script>
</body>
</html>
